{% extends 'index.html' %}

{% block content %}
    <div class="row">
        <div class="col-3">
            <div class="nav flex-column nav-pills" id="v-pills-tab" role="tablist" aria-orientation="vertical">
                <a class="nav-link active"
                   id="v-pills-profile-tab"
                   data-toggle="pill"
                   href="#v-pills-profile"
                   role="tab"
                   aria-controls="v-pills-profile"
                   aria-selected="false">
                    Профиль
                </a>
                <a class="nav-link"
                   id="v-pills-certificates-tab"
                   data-toggle="pill"
                   href="#v-pills-certificates"
                   role="tab"
                   aria-controls="v-pills-certificates"
                   aria-selected="false">
                    Справки
                </a>
            </div>
        </div>

        <div class="col-9">
            <div class="tab-content" id="v-pills-tabContent">
                <div class="tab-pane fade show active" id="v-pills-profile" role="tabpanel"
                     aria-labelledby="v-pills-profile-tab">
                    <form method="post">
                        <div class="form-group">
                            {% csrf_token %}
                            <div class="mb-3 row">
                                <label for="inputEmail" class="col-sm-3 col-form-label">Email</label>
                                <div class="col-sm-9"><input type="email" name="email" id="inputEmail" class="form-control" placeholder="Email" required autofocus value="{{ account_form.initial.email }}"></div>
                                <label for="inputUsername" class="col-sm-3 col-form-label mt-3">Имя пользователя</label>
                                <div class="col-sm-9 mt-3"><input type="text" name="username" id="inputUsername" class="form-control" placeholder="Имя пользователя" required autofocus value="{{ account_form.initial.username }}"></div>
                            </div>

                            {% for field in account_form %}
                                {% for error in field.errors %}
                                    <p class="alert alert-danger">{{ error }}</p>
                                {% endfor %}
                            {% endfor %}

                            {% if account_form.non_field_errors %}
                                <div class="text-danger">{{ account_form.non_field_errors }}</div>
                            {% endif %}

                            {% if success_message %}
                                <p class="alert alert-success btn btn-block">{{ success_message }}</p>
                            {% endif %}
                        </div>
                        <button type="submit" class="btn btn-primary btn-block">Сохранить изменения</button>
                    </form>
                </div>
                <div class="tab-pane fade" id="v-pills-certificates" role="tabpanel"
                     aria-labelledby="v-pills-certificates-tab">
                    Справки
                </div>
            </div>
        </div>
    </div>
{% endblock %}
